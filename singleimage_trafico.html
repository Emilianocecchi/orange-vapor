<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orange Vapor - Creativos para Campañas de Meta Ads</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #f5f5f5;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .header h1 {
            font-size: 28px;
            color: #2c2c2c;
            margin-bottom: 10px;
        }
        .header p {
            color: #666;
            font-size: 16px;
        }
        .campaign-selector {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            background-color: #f0f0f0;
            border-radius: 6px;
            padding: 5px;
            overflow: hidden;
        }
        .campaign-button {
            padding: 10px 20px;
            background: transparent;
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 15px;
            color: #555;
        }
        .campaign-button.active {
            background-color: #ff7e00;
            color: white;
            border-radius: 4px;
        }
        .tabs {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        .tab-group {
            display: inline-flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 5px;
            margin-bottom: 10px;
        }
        .tab-button {
            padding: 8px 16px;
            font-size: 14px;
            font-weight: 500;
            background-color: white;
            color: #333;
            border: 1px solid #ddd;
            cursor: pointer;
            transition: all 0.2s ease;
            border-radius: 6px;
        }
        .tab-button.active {
            color: white;
        }
        .tab-button.auditoria.active { background-color: #28a745; border-color: #28a745; }
        .tab-button.problemas.active { background-color: #d9534f; border-color: #d9534f; }
        .tab-button.optimizacion.active { background-color: #dc3545; border-color: #dc3545; }
        .tab-button.meta.active { background-color: #1877F2; border-color: #1877F2; }
        .tab-button.google.active { background-color: #4285F4; border-color: #4285F4; }
        .tab-button.email.active { background-color: #00829b; border-color: #00829b; }
        .tab-button.chatbot.active { background-color: #6f42c1; border-color: #6f42c1; }
        .tab-button.paquete.active { background-color: #333333; border-color: #333333; }
        .tab-button.exito.active { background-color: #fd7e14; border-color: #fd7e14; }

        /* Selector de color */
        .color-toggle { text-align: center; margin: 20px 0; }
        .color-btn {
            width: 36px; height: 36px; border-radius: 50%; margin: 0 5px;
            cursor: pointer; display: inline-block; border: 2px solid #ddd;
            transition: all 0.2s ease; overflow: hidden;
        }
        .color-btn.active { border-color: #ff7e00; transform: scale(1.1); }
        .color-btn-original { background: linear-gradient(135deg, #28a745 14%, #d9534f 14% 28%, #dc3545 28% 42%, #1877F2 42% 56%, #4285F4 56% 70%, #00829b 70% 84%, #333 84%); }
        .color-btn-orange { background-color: #ff7e00; }
        .color-btn-white { background-color: #ffffff; border: 2px solid #ccc; }
        .color-btn-black { background-color: #181818; }

        /* Sección de descarga */
        .download-section { text-align: center; margin: 20px 0; }
        .download-btn {
            background: #ff7e00; color: white; border: none; padding: 12px 24px;
            font-size: 16px; font-weight: bold; border-radius: 6px; cursor: pointer;
            display: inline-flex; align-items: center; gap: 10px;
            box-shadow: 0 4px 8px rgba(255, 126, 0, 0.3); transition: all 0.3s ease;
        }
        .download-btn:hover { background: #e67300; transform: translateY(-2px); }

        /* Contenedor de creativos */
        .creatives-container { display: flex; flex-wrap: wrap; justify-content: center; margin-top: 20px; }
        .creative {
            width: 360px; height: 360px; margin: 10px; position: relative;
            border-radius: 8px; overflow: hidden; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            color: white; cursor: pointer;
        }
        .creative-vertical { width: 240px; height: 427px; }
        .creative-content {
            position: relative; z-index: 2; padding: 20px; height: 100%;
            display: flex; flex-direction: column; justify-content: center; text-align: center;
        }
        .creative-title { font-size: 22px; font-weight: bold; margin-bottom: 10px; line-height: 1.2; }
        .creative-subtitle { font-size: 18px; font-weight: bold; margin-bottom: 10px; line-height: 1.2; }
        .creative-description { font-size: 14px; line-height: 1.4; }
        .creative-accent {
            position: absolute; left: 0; top: 30%; width: 6px; height: 100px;
            background: white; border-radius: 0 3px 3px 0; z-index: 1;
        }
        .creative-download {
            position: absolute; top: 10px; right: 10px; width: 30px; height: 30px;
            border-radius: 50%; background: rgba(68, 68, 68, 0.8); display: flex;
            align-items: center; justify-content: center; cursor: pointer;
            opacity: 0; transition: opacity 0.3s; z-index: 10;
        }
        .creative:hover .creative-download { opacity: 1; }

        /* Estilo para el Ribbon */
        .creative-ribbon {
            position: absolute; background-color: #FFD700; color: #333;
            padding: 5px 8px; font-size: 12px; font-weight: bold; z-index: 3;
            top: 15px; right: -35px; width: 130px; text-align: center;
            transform: rotate(45deg); box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            text-transform: uppercase;
        }
        .creative-vertical .creative-ribbon { font-size: 13px; top: 20px; right: -40px; width: 150px; }

        /* Notas y cajas informativas */
        .note { text-align: center; margin-top: 30px; color: #666; font-size: 12px; }
        .info-box {
            background-color: #e6f7ff; border-left: 4px solid #1890ff; padding: 15px;
            margin: 20px auto; max-width: 800px; border-radius: 4px; display: flex;
            align-items: flex-start;
        }
        .info-box i { color: #1890ff; font-size: 20px; margin-right: 10px; margin-top: 2px; }
        .info-box p { color: #333; font-size: 14px; margin: 0; line-height: 1.5; }

        /* Toggle de formato */
        .format-toggle { text-align: center; margin: 20px 0; }
        .format-btn {
            padding: 8px 16px; border: 1px solid #ddd; border-radius: 4px;
            background-color: white; margin: 0 5px; cursor: pointer; transition: all 0.2s ease;
        }
        .format-btn.active { background-color: #ff7e00; color: white; border-color: #ff7e00; }

        /* Mejores prácticas */
        .best-practices { background-color: #f8f8f8; border-radius: 8px; padding: 15px; margin: 20px 0; }
        .best-practices h3 { font-size: 16px; color: #333; margin-bottom: 10px; }
        .best-practices ul { list-style-type: disc; margin-left: 20px; }
        .best-practices li { font-size: 13px; margin-bottom: 5px; color: #666; }
        .toggle-practices {
            display: block; margin: 10px auto; background: none; border: 1px solid #ddd;
            padding: 5px 10px; font-size: 12px; color: #666; cursor: pointer; border-radius: 4px;
        }

        /* Logo */
        .logo-container {
            position: absolute; top: 10px; left: 10px; padding: 5px 10px;
            border-radius: 4px; z-index: 2; text-align: left;
        }

        /* Modal de carga */
        .loading-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.7); display: flex; justify-content: center;
            align-items: center; z-index: 9999;
        }
        .loading-container {
            background-color: #fff; padding: 20px 30px; border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3); text-align: center;
        }
        .loading-spinner {
            display: inline-block; width: 30px; height: 30px; border: 4px solid rgba(0,0,0,.1);
            border-radius: 50%; border-top-color: #ff7e00;
            animation: spin 1s ease-in-out infinite; margin-bottom: 10px;
        }
        @keyframes spin { to { transform: rotate(360deg); } }

        /* Canvas oculto */
        #downloadCanvas { position: absolute; left: -9999px; top: -9999px; }

        /* Indicador 20% texto */
        .text-20-indicator {
            padding: 8px 12px; font-size: 13px; background-color: rgba(255, 126, 0, 0.1);
            border: 1px solid #ff7e00; color: #666; margin: 10px 0;
            border-radius: 4px; text-align: center;
        }
        .text-20-indicator i { color: #00b300; margin-right: 5px; }

        /* Sección Ad Copy */
        .ad-copy-section { margin-top: 40px; border-top: 1px solid #eee; padding-top: 20px; }
        .ad-copy-section h3 { font-size: 18px; color: #333; text-align: center; margin-bottom: 15px; }
        .ad-copy-container {
            background-color: #f9f9f9; border: 1px solid #e0e0e0; border-radius: 8px;
            padding: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            max-width: 800px; margin: 0 auto;
        }
        .ad-copy-text { font-size: 16px; line-height: 1.6; color: #444; white-space: pre-line; }
        .copy-btn {
            background: #f1f1f1; border: 1px solid #ddd; border-radius: 4px;
            padding: 8px 16px; font-size: 14px; color: #555; cursor: pointer;
            display: flex; align-items: center; justify-content: center;
            margin: 15px auto 0; transition: all 0.3s ease;
        }
        .copy-btn:hover { background: #e9e9e9; }
        .copy-btn i { margin-right: 8px; }

        /* Indicador tipo campaña */
        .campaign-type-indicator {
            background-color: #f8fafa; border: 1px dashed #1890ff; border-radius: 4px;
            padding: 10px; margin: 15px 0; text-align: center; color: #1890ff;
            font-weight: 600; font-size: 14px; display: flex; align-items: center;
            justify-content: center; gap: 8px;
        }
        .campaign-type-indicator i { margin-right: 8px; }
        
        .tab-group-container {
            display: none;
        }
        .tab-group-container.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 id="serviceTitle">Creativos para Campañas de Meta Ads</h1>
            <p>Sistema optimizado para la estructura de campañas de Orange Vapor</p>
        </div>

        <div class="campaign-type-indicator">
            <i class="fas fa-bullhorn"></i>
            <span id="campaignTypeText">Creativos Optimizados para Campañas de Meta Ads</span>
        </div>

        <!-- Selector de Campañas -->
        <div class="campaign-selector">
            <button class="campaign-button active" data-campaign="awareness">Awareness</button>
            <button class="campaign-button" data-campaign="consideracion">Consideración</button>
            <button class="campaign-button" data-campaign="conversion">Conversión</button>
        </div>

        <!-- Tabs por campaña -->
        <div class="tabs">
            <!-- Awareness -->
            <div class="tab-group-container active" id="awareness-tabs">
                <div class="tab-group">
                    <button class="tab-button auditoria active" data-service="auditoria">Auditoría Gratis</button>
                    <button class="tab-button problemas" data-service="problemas">Problemas Comunes</button>
                </div>
            </div>
            
            <!-- Consideración -->
            <div class="tab-group-container" id="consideracion-tabs">
                <div class="tab-group">
                    <button class="tab-button optimizacion" data-service="optimizacion">Optimización Express</button>
                    <button class="tab-button meta" data-service="meta">Meta Ads</button>
                    <button class="tab-button google" data-service="google">Google Ads</button>
                    <button class="tab-button email" data-service="email">Email Marketing</button>
                    <button class="tab-button chatbot" data-service="chatbot">Chatbot</button>
                </div>
            </div>
            
            <!-- Conversión -->
            <div class="tab-group-container" id="conversion-tabs">
                <div class="tab-group">
                    <button class="tab-button paquete" data-service="paquete">Paquete Completo</button>
                    <button class="tab-button exito" data-service="exito">Casos de Éxito</button>
                </div>
            </div>
        </div>

        <div class="format-toggle">
            <button id="squareBtn" class="format-btn active">Cuadrado (1080x1080)</button>
            <button id="verticalBtn" class="format-btn">Vertical (1080x1920)</button>
        </div>

        <div class="color-toggle">
            <div class="color-btn color-btn-original active" data-color="original" title="Color original del servicio"></div>
            <div class="color-btn color-btn-orange" data-color="orange" title="Fondo naranja"></div>
            <div class="color-btn color-btn-white" data-color="white" title="Fondo blanco"></div>
            <div class="color-btn color-btn-black" data-color="black" title="Fondo negro"></div>
        </div>

        <div class="download-section">
            <button id="downloadBtn" class="download-btn">
                <i class="fas fa-download"></i>
                Descargar Creativo
            </button>
        </div>

        <div class="info-box">
            <i class="fas fa-info-circle"></i>
            <div>
                <p><strong>Instrucciones:</strong></p>
                <p>1. Seleccioná el tipo de campaña (Awareness, Consideración o Conversión).</p>
                <p>2. Elegí el adset específico para la campaña.</p>
                <p>3. Selecciona el formato (cuadrado 1080x1080 o vertical 1080x1920).</p>
                <p>4. Elige el color de fondo (original, naranja, blanco o negro).</p>
                <p>5. Haz clic en "Descargar Creativo" para obtener la imagen en alta resolución.</p>
            </div>
        </div>

        <div class="text-20-indicator">
            <i class="fas fa-check-circle"></i>
            Texto optimizado (menos del 20% del espacio) - Aprobado para Meta Ads
        </div>

        <div class="best-practices" style="display: none;">
            <h3>Mejores Prácticas para Anuncios de Meta Ads:</h3>
            <ul>
                <li><strong>Mensajes específicos por fase del funnel</strong>
                    <ul>
                        <li>Awareness: Foco en problemas y solución general</li>
                        <li>Consideración: Detalles específicos del servicio</li>
                        <li>Conversión: Beneficios concretos y CTAs de acción</li>
                    </ul>
                </li>
                <li><strong>Menos del 20% de texto</strong> - Meta penaliza anuncios con exceso de texto</li>
                <li><strong>Propuesta de valor clara</strong> - Qué beneficio obtienen al hacer clic</li>
                <li><strong>Copy único por segmento</strong> - Personaliza por industria cuando sea posible</li>
                <li><strong>Crear urgencia</strong> - Especialmente en campañas de conversión</li>
                <li><strong>Combinar razón y emoción</strong> - Datos concretos + elementos emotivos</li>
                <li><strong>CTA específico</strong> - Alinear con la fase del funnel</li>
            </ul>
        </div>
        <button class="toggle-practices" id="togglePractices">Ver mejores prácticas para Meta Ads</button>

        <div id="creativesContainer" class="creatives-container">
            <!-- El creativo se inserta dinámicamente aquí -->
        </div>

        <div class="note">
            <p>Dimensiones: 1080x1080 píxeles y 1080x1920 píxeles (imágenes descargadas en alta resolución)</p>
        </div>

        <div class="ad-copy-section">
            <h3>Copy Sugerido para la Campaña</h3>
            <div class="ad-copy-container">
                <p id="adCopyText" class="ad-copy-text"></p>
                <button id="copyBtn" class="copy-btn">
                    <i class="fas fa-copy"></i> Copiar
                </button>
            </div>
        </div>

        <canvas id="downloadCanvas"></canvas>
    </div>

    <script>
        const colors = {
            primary: '#ff7e00', dark: '#181818', light: '#ffffff',
            auditoria: '#28a745', problemas: '#d9534f', optimizacion: '#dc3545', 
            meta: '#1877F2', google: '#4285F4', email: '#00829b', 
            chatbot: '#6f42c1', paquete: '#333333', exito: '#fd7e14'
        };

        const creativesData = {
            // Awareness
            auditoria: { 
                title: 'AUDITORÍA GRATUITA DE ADS', 
                subtitle: '¿PERDIENDO DINERO EN ADS?', 
                description: 'Descubrí dónde estás perdiendo presupuesto\ny cómo solucionarlo sin compromiso.', 
                bgColor: colors.auditoria 
            },
            problemas: { 
                title: 'PROBLEMAS COMUNES EN ADS', 
                subtitle: '¿CLICS SIN CONVERSIONES?', 
                description: 'El 67% de los anunciantes desperdicia\nsu presupuesto en métricas que no venden.', 
                bgColor: colors.problemas 
            },
            
            // Consideración
            optimizacion: { 
                title: 'OPTIMIZACIÓN EXPRESS', 
                subtitle: 'RESULTADOS EN 48HS', 
                description: 'Detené el sangrado de presupuesto\ny multiplicá conversiones de inmediato.', 
                bgColor: colors.optimizacion 
            },
            meta: { 
                title: 'META ADS OPTIMIZADOS', 
                subtitle: 'ROAS GARANTIZADO 2.8X', 
                description: 'Estrategia para Facebook e Instagram\nque realmente genera ventas.', 
                bgColor: colors.meta 
            },
            google: { 
                title: 'GOOGLE ADS QUE FUNCIONAN', 
                subtitle: 'CAPTURÁ CLIENTES LISTOS', 
                description: 'Aparecer cuando te buscan y\nconvertir búsquedas en ventas reales.', 
                bgColor: colors.google 
            },
            email: { 
                title: 'EMAIL MARKETING EFECTIVO', 
                subtitle: 'CONVIERTE SUSCRIPTORES', 
                description: 'Automatización que transforma tu\nlista en ventas recurrentes.', 
                bgColor: colors.email 
            },
            chatbot: { 
                title: 'CHATBOTS PARA VENDER 24/7', 
                subtitle: 'CAPTURA Y CALIFICA LEADS', 
                description: 'Atención automática que convierte\nvisitantes en leads cualificados.', 
                bgColor: colors.chatbot 
            },
            
            // Conversión
            paquete: { 
                title: 'PAQUETE COMPLETO DE MARKETING', 
                subtitle: 'AHORRÁ $200 MENSUALES', 
                description: 'Meta + Google + Email + Chatbot\n¡Todo por $1000/mes!', 
                bgColor: colors.paquete 
            },
            exito: { 
                title: 'CASOS DE ÉXITO COMPROBABLES', 
                subtitle: 'RESULTADOS REALES', 
                description: 'Nuestros clientes aumentaron\nsus ventas un 127% en promedio.', 
                bgColor: colors.exito 
            }
        };

        const ribbonData = {
            auditoria: 'GRATUITA',
            problemas: 'DIAGNÓSTICO',
            optimizacion: '48HS', 
            meta: 'ROAS 2.8X', 
            google: 'ALTO ROI', 
            email: '38% APERTURA', 
            chatbot: 'LEADS 24/7',
            paquete: 'AHORRÁ $200',
            exito: 'COMPROBADO'
        };

        const adCopyData = {
            // Awareness
            auditoria: `🔍 ¿Tus campañas de ads no están generando VENTAS? Podrías estar perdiendo dinero sin saberlo.\n\nDescubrí EXACTAMENTE dónde están las fugas en tu estrategia de marketing digital con nuestra Auditoría Gratuita de Ads.\n\n✅ Análisis completo de tus campañas actuales\n✅ Revisión de segmentación de audiencias\n✅ Evaluación de creativos y copy\n✅ Identificación de oportunidades ocultas\n\nSin compromiso. Sin letra pequeña. 100% GRATIS.\n\n👉 La semana pasada, un cliente descubrió que el 63% de su presupuesto estaba yendo a audiencias que NUNCA convertían.\n\n¡Agendá tu auditoría ahora! Cupos limitados 👇\nwww.orangevapor.com`,
            
            problemas: `⚠️ ¿Tu negocio sufre alguno de estos problemas?\n\n❌ Muchos clics en tus anuncios, pero pocas ventas reales\n❌ CPA (costo por adquisición) demasiado alto\n❌ Meta Ads cada vez más caros y menos efectivos\n❌ No sabés qué métricas realmente importan\n\nNO ESTÁS SOLO. El 67% de las empresas invierten en publicidad sin entender qué métricas impactan sus ventas.\n\nEn Orange Vapor hemos identificado los patrones que están hundiendo las campañas de marketing digital y desarrollado soluciones probadas.\n\n👉 Descubrí cómo detener el desangre presupuestario con estrategias que realmente funcionan.\n\nVisitá nuestra web y solicitá una consulta gratuita 👇\nwww.orangevapor.com`,
            
            // Consideración
            optimizacion: `⚡ ¿Necesitás resultados YA? ¡Optimización Express en 48hs! ⚡\n\nNo más campañas mediocres. No más presupuesto desperdiciado.\n\n✅ Identificamos exactamente dónde pierdes dinero\n✅ Corregimos los errores técnicos y estratégicos\n✅ Eliminamos audiencias que no convierten\n✅ Implementamos nuestra metodología ROI First™\n\nPor solo US$299 (pago único), transformamos tus campañas estancadas en máquinas de resultados.\n\n👉 Un cliente reciente pasó de 350% a 820% de ROAS en menos de 72 horas.\n\n¡No pierdas más tiempo y dinero! ⏱️\nwww.orangevapor.com/optimizacion-express`,
            
            meta: `📱 Meta Ads que SÍ funcionan: ROAS mínimo garantizado de 2.8X 📱\n\nOlvidate de leer mil tutoriales y probar sin dirección. Confiá en expertos que han gestionado millones en ads de Facebook e Instagram.\n\nNuestro servicio mensual de Meta Ads incluye:\n\n✅ Estrategia personalizada para TU negocio\n✅ 4 creatividades nuevas cada mes\n✅ Optimización diaria por nuestro equipo\n✅ Audiencias de alto valor basadas en datos\n✅ Informes semanales transparentes\n\nTodo por solo US$299/mes con garantía de resultados.\n\n👉 Si no alcanzamos los KPIs acordados, ¡solo pagás la mitad!\n\nConvertí tus Ads en una inversión predecible 👇\nwww.orangevapor.com/meta-ads`,
            
            google: `🔎 Aparecer cuando tus clientes te buscan = VENTAS\n\nMientras tu competencia captura clientes en Google, vos estás perdiendo oportunidades.\n\nNuestro servicio de Google Ads incluye:\n\n✅ Investigación de palabras clave rentables\n✅ Optimización semanal de pujas\n✅ Creación de anuncios A/B para mejorar CTR\n✅ Mejora de Quality Score (= menor costo)\n✅ Análisis de competencia para detectar oportunidades\n\nUS$299/mes con garantía de ROI positivo.\n\n👉 Si no mejoramos tu CPA actual en 30 días, devolvemos el 50% de nuestro fee.\n\n¡Capturá clientes que ya están buscando lo que vendés! 👇\nwww.orangevapor.com/google-ads`,
            
            email: `📧 Tu lista de emails es un TESORO sin explotar 📧\n\nConvertí suscriptores inactivos en clientes recurrentes con secuencias automáticas que venden por vos.\n\nNuestro servicio mensual de Email Marketing incluye:\n\n✅ 2 campañas masivas diseñadas profesionalmente\n✅ 1 secuencia automatizada nueva o mejorada\n✅ Segmentación dinámica basada en comportamiento\n✅ Optimización de asuntos para aumentar aperturas\n✅ Informes detallados de rendimiento\n\nUS$299/mes con tasa de apertura garantizada del 38% o superior.\n\n👉 Una cliente reciente pasó de generar $400 a $4,800 mensuales solo con email marketing.\n\nMonetizá tu lista AHORA 👇\nwww.orangevapor.com/email-marketing`,
            
            chatbot: `🤖 ¿Sabías que el 60% de los leads se pierden por no responder en los primeros 5 minutos?\n\nIntegrá chatbots que convierten visitantes en clientes calificados 24/7.\n\nNuestro servicio mensual de Chatbots incluye:\n\n✅ Configuración personalizada para tu negocio\n✅ Integración con CRM y herramientas de marketing\n✅ Flujos de conversación optimizados para ventas\n✅ Actualización mensual de respuestas y flujos\n✅ Soporte técnico continuo\n\nUS$299/mes con resultados garantizados.\n\n👉 Un cliente reciente mejoró su tasa de conversión del 22% al 68% con nuestros chatbots.\n\n¡No pierdas más clientes potenciales! 👇\nwww.orangevapor.com/chatbot`,
            
            // Conversión
            paquete: `🚀 OFERTA ESPECIAL: La estrategia de marketing digital COMPLETA 🚀\n\n¿Por qué elegir un solo canal cuando podés dominarlos TODOS?\n\nNuestro Paquete Integral incluye:\n✅ Meta Ads optimizados (Facebook e Instagram)\n✅ Google Ads estratégico\n✅ Email Marketing automatizado\n✅ Chatbots de conversión\n\nNormalmente US$1,196/mes (US$299 x 4 servicios)\nAHORA: US$1,000/mes - ¡AHORRÁS CASI US$200!\n\n👉 Además: si contratás ahora, incluimos la Optimización Express (valor US$299) ¡GRATIS!\n\nGarantía de resultados o pagás solo la mitad. Sin contratos a largo plazo.\n\nMaximizá tu presencia y ROI en todos los canales 👇\nwww.orangevapor.com/paquete-completo`,
            
            exito: `💎 RESULTADOS REALES de nuestros clientes en los últimos 30 días:\n\n✅ Tienda de decoración: de $7,000 a $85,000 mensuales (ROAS 820%)\n✅ Cosmética natural: de $400 a $4,800 en ventas por email\n✅ E-commerce de tecnología: redujo CPA de $25 a $8.20\n✅ Academia online: +127% conversiones con chatbots\n\nNo son promesas. Son RESULTADOS VERIFICABLES.\n\n👉 ¿Querés ser nuestro próximo caso de éxito?\n\nAccedé a un DIAGNÓSTICO GRATUITO donde analizaremos tu negocio y te mostraremos exactamente cómo podemos ayudarte.\n\nAgendá tu sesión estratégica ahora 👇\nwww.orangevapor.com/contacto`
        };

        let activeCampaign = 'awareness';
        let activeService = 'auditoria'; // Default service
        let activeFormat = 'square';
        let activeColor = 'original';
        let isProcessing = false;

        const serviceTitle = document.getElementById('serviceTitle');
        const campaignTypeText = document.getElementById('campaignTypeText');
        const creativesContainer = document.getElementById('creativesContainer');
        const campaignButtons = document.querySelectorAll('.campaign-button');
        const tabGroupContainers = document.querySelectorAll('.tab-group-container');
        const tabButtons = document.querySelectorAll('.tab-button');
        const formatButtons = document.querySelectorAll('.format-btn');
        const colorButtons = document.querySelectorAll('.color-btn');
        const squareBtn = document.getElementById('squareBtn');
        const verticalBtn = document.getElementById('verticalBtn');
        const downloadBtn = document.getElementById('downloadBtn');
        const togglePracticesBtn = document.getElementById('togglePractices');
        const bestPracticesBox = document.querySelector('.best-practices');
        const downloadCanvas = document.getElementById('downloadCanvas');
        const adCopyText = document.getElementById('adCopyText');
        const copyBtn = document.getElementById('copyBtn');

        // Listeners para la interfaz
        copyBtn.addEventListener('click', () => {
            const textToCopy = adCopyText.textContent || adCopyText.innerText;
            navigator.clipboard.writeText(textToCopy)
                .then(() => {
                    copyBtn.innerHTML = '<i class="fas fa-check"></i> ¡Copiado!';
                    setTimeout(() => { copyBtn.innerHTML = '<i class="fas fa-copy"></i> Copiar'; }, 2000);
                })
                .catch(err => {
                    console.error('Error al copiar: ', err);
                    copyBtn.innerHTML = '<i class="fas fa-times"></i> Error';
                    setTimeout(() => { copyBtn.innerHTML = '<i class="fas fa-copy"></i> Copiar'; }, 2000);
                });
        });

        togglePracticesBtn.addEventListener('click', () => {
            const isHidden = bestPracticesBox.style.display === 'none' || bestPracticesBox.style.display === '';
            bestPracticesBox.style.display = isHidden ? 'block' : 'none';
            togglePracticesBtn.textContent = isHidden ? 'Ocultar mejores prácticas' : 'Ver mejores prácticas para Meta Ads';
        });

        // Cambiar entre campañas (Awareness, Consideración, Conversión)
        campaignButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                // Actualizar estado activo de botones
                campaignButtons.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                // Actualizar campaña activa
                activeCampaign = btn.dataset.campaign;
                
                // Mostrar tabs correspondientes
                tabGroupContainers.forEach(container => {
                    container.classList.remove('active');
                    if (container.id === `${activeCampaign}-tabs`) {
                        container.classList.add('active');
                    }
                });
                
                // Seleccionar primer servicio de esta campaña
                const firstTabInCampaign = document.querySelector(`#${activeCampaign}-tabs .tab-button`);
                if (firstTabInCampaign) {
                    // Limpiar selecciones anteriores
                    tabButtons.forEach(t => t.classList.remove('active'));
                    firstTabInCampaign.classList.add('active');
                    activeService = firstTabInCampaign.dataset.service;
                }
                
                // Actualizar UI
                updateCampaignTypeText();
                updateUI();
            });
        });

        function updateCampaignTypeText() {
            const campaignTextMap = {
                'awareness': 'Campaña de Awareness y Descubrimiento',
                'consideracion': 'Campaña de Consideración',
                'conversion': 'Campaña de Conversión'
            };
            campaignTypeText.textContent = `${campaignTextMap[activeCampaign]}: ${getServiceTitle(activeService, false)}`;
        }

        function getServiceTitle(service, includePrefix = true) {
            const titleMap = {
                // Awareness
                auditoria: 'Adset de Auditoría Gratis',
                problemas: 'Adset de Problemas Comunes',
                
                // Consideración
                optimizacion: 'Adset de Optimización Express',
                meta: 'Adset de Meta Ads',
                google: 'Adset de Google Ads',
                email: 'Adset de Email Marketing',
                chatbot: 'Adset de Chatbot',
                
                // Conversión
                paquete: 'Adset de Paquete Completo',
                exito: 'Adset de Casos de Éxito'
            };
            
            const serviceTitle = titleMap[service] || 'Adset de Marketing Digital';
            return includePrefix ? `Meta Ads: ${serviceTitle}` : serviceTitle;
        }

        function getBgColor() {
            if (activeColor === 'original') return creativesData[activeService]?.bgColor || colors.primary;
            if (activeColor === 'orange') return colors.primary;
            if (activeColor === 'white') return colors.light;
            if (activeColor === 'black') return colors.dark;
            return colors.primary;
        }

        function getTextColor(bgColor) {
            if (!bgColor) return colors.dark;
            let rgb;
            if (bgColor.startsWith('#')) {
                const bigint = parseInt(bgColor.slice(1), 16);
                rgb = { r: (bigint >> 16) & 255, g: (bigint >> 8) & 255, b: bigint & 255 };
            } else if (bgColor.startsWith('rgb')) {
                const matches = bgColor.match(/\d+/g);
                if (!matches || matches.length < 3) return colors.dark;
                rgb = { r: parseInt(matches[0]), g: parseInt(matches[1]), b: parseInt(matches[2]) };
            } else { return colors.dark; }
            const luminance = (0.299 * rgb.r + 0.587 * rgb.g + 0.114 * rgb.b) / 255;
            return luminance > 0.5 ? colors.dark : colors.light;
        }

        function getAccentColor(bgColor) {
            const textColor = getTextColor(bgColor);
            if (activeColor === 'orange') return textColor;
            if (activeColor === 'white' || activeColor === 'black') return colors.primary;
            return textColor;
        }

        function renderCreative() {
            creativesContainer.innerHTML = '';
            const creative = creativesData[activeService];
            if (!creative) {
                console.error("Datos no encontrados para el servicio:", activeService);
                creativesContainer.innerHTML = '<p>Error: Datos del creativo no disponibles.</p>';
                return;
            }

            const bgColor = getBgColor();
            const textColor = getTextColor(bgColor);
            const accentColor = getAccentColor(bgColor);

            const creativeEl = document.createElement('div');
            creativeEl.className = `creative ${activeFormat === 'vertical' ? 'creative-vertical' : ''}`;
            creativeEl.style.backgroundColor = bgColor;

            const ribbonText = ribbonData[activeService];
            if (ribbonText) {
                const ribbonEl = document.createElement('div');
                ribbonEl.className = 'creative-ribbon';
                ribbonEl.textContent = ribbonText;
                creativeEl.appendChild(ribbonEl);
            }

            const accentEl = document.createElement('div');
            accentEl.className = 'creative-accent';
            accentEl.style.background = accentColor;
            creativeEl.appendChild(accentEl);

            const contentEl = document.createElement('div');
            contentEl.className = 'creative-content';

            const logoContainerEl = document.createElement('div');
            logoContainerEl.className = 'logo-container';
            const logoEl = document.createElement('div');
            logoEl.style.fontWeight = 'bold';
            logoEl.style.fontSize = '14px';
            if (activeColor === 'white') {
                logoEl.innerHTML = `<span style="color: ${colors.dark};">Orange</span> <span style="color: ${colors.primary};">Vapor</span>`;
            } else if (activeColor === 'orange') {
                logoEl.innerHTML = `<span style="color: ${colors.light};">Orange Vapor</span>`;
            } else {
                logoEl.innerHTML = `<span style="color: ${textColor};">Orange</span> <span style="color: ${colors.primary};">Vapor</span>`;
            }
            logoContainerEl.appendChild(logoEl);
            contentEl.appendChild(logoContainerEl);

            const titleEl = document.createElement('div');
            titleEl.className = 'creative-title';
            titleEl.textContent = creative.title;
            titleEl.style.color = textColor;
            titleEl.style.paddingTop = '50px';
            contentEl.appendChild(titleEl);

            const subtitleEl = document.createElement('div');
            subtitleEl.className = 'creative-subtitle';
            subtitleEl.textContent = creative.subtitle;
            subtitleEl.style.color = textColor;
            contentEl.appendChild(subtitleEl);

            const descEl = document.createElement('div');
            descEl.className = 'creative-description';
            descEl.style.whiteSpace = 'pre-line';
            descEl.textContent = creative.description;
            descEl.style.color = textColor;
            contentEl.appendChild(descEl);

            creativeEl.appendChild(contentEl);

            const downloadEl = document.createElement('div');
            downloadEl.className = 'creative-download';
            downloadEl.innerHTML = `<i class="fas fa-download" style="color: ${colors.light};"></i>`;
            downloadEl.addEventListener('click', (e) => {
                e.stopPropagation();
                generateAndDownloadImage();
            });
            creativeEl.appendChild(downloadEl);

            creativeEl.addEventListener('click', generateAndDownloadImage);

            creativesContainer.appendChild(creativeEl);

            updateAdCopy();
        }

        function updateAdCopy() {
            adCopyText.textContent = adCopyData[activeService] || "Copy de anuncio no disponible para este servicio.";
            copyBtn.innerHTML = '<i class="fas fa-copy"></i> Copiar';
        }

        function showLoadingModal(message = "Generando imagen...") {
            if (document.getElementById('loadingModal')) return;
            const modalEl = document.createElement('div');
            modalEl.className = 'loading-modal';
            modalEl.id = 'loadingModal';
            modalEl.innerHTML = `
                <div class="loading-container">
                    <div class="loading-spinner"></div>
                    <div>${message}</div>
                </div>`;
            document.body.appendChild(modalEl);
        }
        function hideLoadingModal() {
            const modal = document.getElementById('loadingModal');
            if (modal) { document.body.removeChild(modal); }
        }

        async function generateAndDownloadImage() {
            if (isProcessing) return;
            isProcessing = true;
            showLoadingModal("Preparando fuentes y generando imagen...");

            try {
                console.log("Esperando fuentes...");
                await Promise.all([
                    document.fonts.load('bold 70px Montserrat'),
                    document.fonts.load('bold 80px Montserrat'),
                    document.fonts.load('bold 46px Montserrat'),
                    document.fonts.load('bold 56px Montserrat'),
                    document.fonts.load('normal 36px Montserrat'),
                    document.fonts.load('normal 42px Montserrat'),
                    document.fonts.load('bold 36px Montserrat'),
                    document.fonts.load('bold 42px Montserrat'),
                    document.fonts.load('bold 18px Montserrat'),
                    document.fonts.load('bold 22px Montserrat')
                ]);
                console.log("Fuentes cargadas.");

                const creative = creativesData[activeService];
                if (!creative) throw new Error(`Datos no encontrados para ${activeService}`);

                const isVertical = activeFormat === 'vertical';
                const width = 1080;
                const height = isVertical ? 1920 : 1080;

                downloadCanvas.width = width;
                downloadCanvas.height = height;
                const ctx = downloadCanvas.getContext('2d');
                ctx.clearRect(0, 0, width, height);

                const bgColor = getBgColor();
                const textColor = getTextColor(bgColor);
                const accentColor = getAccentColor(bgColor);

                // 1. Fondo
                ctx.fillStyle = bgColor;
                ctx.fillRect(0, 0, width, height);

                // 2. Acento lateral
                ctx.fillStyle = accentColor;
                const accentWidth = isVertical ? 20 : 15;
                const accentHeightRatio = isVertical ? 0.4 : 0.3;
                const accentYRatio = isVertical ? 0.3 : 0.35;
                ctx.fillRect(0, height * accentYRatio, accentWidth, height * accentHeightRatio);

                // 3. Logo
                const logoFontSize = isVertical ? 42 : 36;
                ctx.font = `bold ${logoFontSize}px Montserrat, sans-serif`;
                ctx.textAlign = 'left';
                const logoX = 40;
                const logoY = 60;
                if (activeColor === 'white') {
                    ctx.fillStyle = colors.dark;
                    ctx.fillText('Orange', logoX, logoY);
                    const orangeWidth = ctx.measureText('Orange ').width;
                    ctx.fillStyle = colors.primary;
                    ctx.fillText('Vapor', logoX + orangeWidth, logoY);
                } else if (activeColor === 'orange') {
                    ctx.fillStyle = colors.light;
                    ctx.fillText('Orange Vapor', logoX, logoY);
                } else {
                    ctx.fillStyle = textColor;
                    ctx.fillText('Orange', logoX, logoY);
                    const orangeWidth = ctx.measureText('Orange ').width;
                    ctx.fillStyle = colors.primary;
                    ctx.fillText('Vapor', logoX + orangeWidth, logoY);
                }

                // 4. Textos
                ctx.textAlign = 'center';
                const contentStartY = logoY + 80;
                const availableHeightForText = height - contentStartY - 40;
                const contentCenterY = contentStartY + availableHeightForText / 2;
                const textMaxWidth = width - 100;

                // Título
                const titleFontSize = isVertical ? 80 : 70;
                ctx.font = `bold ${titleFontSize}px Montserrat, sans-serif`;
                ctx.fillStyle = textColor;
                const titleLineHeight = titleFontSize * 1.1;
                
                const titleLines = calculateWrappedLines(ctx, creative.title, textMaxWidth);
                const subtitleFontSize = isVertical ? 56 : 46;
                const descFontSize = isVertical ? 42 : 36;
                const descLineHeight = descFontSize * 1.2;
                const descLines = calculateWrappedLines(ctx, creative.description, textMaxWidth);
                const totalTextHeight = (titleLines * titleLineHeight) + subtitleFontSize + (isVertical ? 80 : 70) + (descLines * descLineHeight);
                const titleStartY = contentCenterY - (totalTextHeight / 2);

                wrapText(ctx, creative.title, width / 2, titleStartY, textMaxWidth, titleLineHeight);

                // Subtítulo
                const subtitleY = titleStartY + (titleLines * titleLineHeight) + (isVertical ? 20 : 30);
                ctx.font = `bold ${subtitleFontSize}px Montserrat, sans-serif`;
                ctx.fillStyle = textColor;
                ctx.fillText(creative.subtitle, width / 2, subtitleY);

                // Descripción
                const descY = subtitleY + subtitleFontSize + (isVertical ? 60 : 50);
                ctx.font = `${descFontSize}px Montserrat, sans-serif`;
                ctx.fillStyle = textColor;
                wrapText(ctx, creative.description, width / 2, descY, textMaxWidth, descLineHeight);

                // 5. Ribbon
                const ribbonText = ribbonData[activeService];
                if (ribbonText) {
                    console.log(`Intentando dibujar ribbon: ${ribbonText}`);

                    ctx.save();
                    ctx.translate(width, 0);
                    ctx.rotate(45 * Math.PI / 180);

                    const ribbonBgColor = '#FFD700';
                    const ribbonTextColor = '#333';
                    const ribbonHeight = isVertical ? 55 : 45;
                    const ribbonWidth = isVertical ? 300 : 250;
                    const ribbonFontSize = isVertical ? 22 : 18;

                    const diagonalShift = 30;
                    const verticalCenter = 0;

                    ctx.fillStyle = ribbonBgColor;
                    ctx.fillRect(
                        diagonalShift,
                        verticalCenter - ribbonHeight / 2,
                        ribbonWidth,
                        ribbonHeight
                    );

                    ctx.fillStyle = ribbonTextColor;
                    ctx.font = `bold ${ribbonFontSize}px Montserrat, sans-serif`;
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';

                    ctx.fillText(
                        ribbonText,
                        diagonalShift + ribbonWidth / 2,
                        verticalCenter
                    );

                    ctx.restore();
                    console.log("Ribbon dibujado.");
                }

                // 6. Descargar
                console.log("Generando Data URL...");
                const dataUrl = downloadCanvas.toDataURL('image/png');
                const link = document.createElement('a');
                link.href = dataUrl;
                const campaignName = activeCampaign.replace('ó', 'o');
                link.download = `orange-vapor-${campaignName}-${activeService}-${activeFormat}.png`;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                console.log("Descarga iniciada.");

            } catch (error) {
                console.error('Error al generar/descargar la imagen:', error);
                alert(`Hubo un error al generar la imagen: ${error.message}. Por favor, intentá de nuevo.`);
            } finally {
                hideLoadingModal();
                isProcessing = false;
                console.log("Proceso finalizado.");
            }
        }

        function wrapText(ctx, text, x, y, maxWidth, lineHeight) {
            const words = text.split(/[\s\n]+/);
            let line = '';
            let currentY = y;
            
            for (let n = 0; n < words.length; n++) {
                if (words[n].includes('\n')) {
                     const parts = words[n].split('\n');
                     let testLineBeforeBreak = line + parts[0] + ' ';
                     if (ctx.measureText(testLineBeforeBreak).width <= maxWidth || line === '') {
                         line = testLineBeforeBreak;
                     } else {
                         ctx.fillText(line.trim(), x, currentY);
                         line = parts[0] + ' ';
                     }
                     ctx.fillText(line.trim(), x, currentY);
                     currentY += lineHeight;
                     line = parts[1] ? parts[1] + ' ' : '';
                     if (!parts[1] && n === words.length -1) return;
                     if (!parts[1]) continue;
                }

                const testLine = line + words[n] + ' ';
                const metrics = ctx.measureText(testLine);
                const testWidth = metrics.width;
                if (testWidth > maxWidth && n > 0 && line !== '') {
                    ctx.fillText(line.trim(), x, currentY);
                    line = words[n] + ' ';
                    currentY += lineHeight;
                } else {
                    line = testLine;
                }
            }
            if (line.trim() !== '') {
                ctx.fillText(line.trim(), x, currentY);
            }
        }

        function calculateWrappedLines(ctx, text, maxWidth) {
            const words = text.split(/[\s\n]+/);
            let line = '';
            let lines = 0;
            let firstWord = true;

            for (let n = 0; n < words.length; n++) {
               if (firstWord) {
                   lines++;
                   firstWord = false;
               }
                const testLine = line + words[n] + ' ';
                const metrics = ctx.measureText(testLine);
                const testWidth = metrics.width;
                if (testWidth > maxWidth && n > 0 && line !== '') {
                    lines++;
                    line = words[n] + ' ';
                } else {
                    line = testLine;
                }
            }
            
            lines += (text.match(/\n/g) || []).length;
            return lines || 1;
        }

        function updateUI() {
            serviceTitle.textContent = getServiceTitle(activeService);
            updateCampaignTypeText();
            
            // Actualizar botones activos
            tabButtons.forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.service === activeService) {
                    btn.classList.add('active');
                }
            });
            
            formatButtons.forEach(btn => btn.classList.remove('active'));
            if (activeFormat === 'square') {
                squareBtn.classList.add('active');
            } else {
                verticalBtn.classList.add('active');
            }
            
            colorButtons.forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.color === activeColor) {
                    btn.classList.add('active');
                }
            });
            
            renderCreative();
        }

        // Event listeners para todos los controles
        tabButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                tabButtons.forEach(t => t.classList.remove('active'));
                btn.classList.add('active');
                activeService = btn.dataset.service;
                updateUI();
            });
        });
        
        squareBtn.addEventListener('click', () => {
            activeFormat = 'square';
            updateUI();
        });
        
        verticalBtn.addEventListener('click', () => {
            activeFormat = 'vertical';
            updateUI();
        });
        
        colorButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                activeColor = btn.dataset.color;
                updateUI();
            });
        });
        
        downloadBtn.addEventListener('click', generateAndDownloadImage);

        // Inicializar la aplicación
        updateUI();
    </script>
</body>
</html>
