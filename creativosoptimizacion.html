<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creativos Orange Vapor - Optimizados</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #f5f5f5;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .header h1 {
            font-size: 28px;
            color: #2c2c2c;
            margin-bottom: 10px;
        }
        .header p {
            color: #666;
            font-size: 16px;
        }
        .tabs {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        .tab-group {
            display: inline-flex;
            border-radius: 6px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            margin-bottom: 10px;
        }
        .tab-button {
            padding: 8px 16px;
            font-size: 14px;
            font-weight: 500;
            background-color: white;
            color: #333;
            border: 1px solid #ddd;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .tab-button:first-child {
            border-top-left-radius: 6px;
            border-bottom-left-radius: 6px;
        }
        .tab-button:last-child {
            border-top-right-radius: 6px;
            border-bottom-right-radius: 6px;
        }
        .tab-button.active {
            color: white;
        }
        .tab-button.optimizacion.active {
            background-color: #dc3545;
            border-color: #dc3545;
        }
        .tab-button.meta.active {
            background-color: #1877F2;
            border-color: #1877F2;
        }
        .tab-button.google.active {
            background-color: #4285F4;
            border-color: #4285F4;
        }
        .tab-button.email.active {
            background-color: #00829b;
            border-color: #00829b;
        }
        .tab-button.chatbot.active {
            background-color: #6f42c1;
            border-color: #6f42c1;
        }
        .tab-button.all.active {
            background-color: #333333;
            border-color: #333333;
        }
        .download-section {
            text-align: center;
            margin: 20px 0;
        }
        .download-btn {
            background: #ff7e00;
            color: white;
            border: none;
            padding: 12px 24px;
            font-size: 16px;
            font-weight: bold;
            border-radius: 6px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 4px 8px rgba(255, 126, 0, 0.3);
            transition: all 0.3s ease;
        }
        .download-btn:hover {
            background: #e67300;
            transform: translateY(-2px);
        }
        .creatives-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 20px;
        }
        .creative {
            width: 300px;
            height: 300px;
            margin: 10px;
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            color: white;
        }
        .creative-vertical {
            width: 200px;
            height: 356px;
        }
        .creative-content {
            position: relative;
            z-index: 2;
            padding: 20px;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .creative-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 10px;
            line-height: 1.2;
        }
        .creative-subtitle {
            font-size: 16px;
            font-weight: bold;
            background: rgba(0,0,0,0.25);
            padding: 8px 12px;
            display: inline-block;
            border-radius: 4px;
            margin-bottom: 10px;
        }
        .creative-description {
            font-size: 14px;
            opacity: 0.9;
        }
        .creative-accent {
            position: absolute;
            left: 0;
            top: 30%;
            width: 6px;
            height: 100px;
            background: white;
            border-radius: 0 3px 3px 0;
            z-index: 10;
        }
        .creative-number {
            position: absolute;
            bottom: 12px;
            right: 12px;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            z-index: 10;
        }
        .creative-download {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 10;
        }
        .creative:hover .creative-download {
            opacity: 1;
        }
        .note {
            text-align: center;
            margin-top: 30px;
            color: #666;
            font-size: 12px;
        }
        .info-box {
            background-color: #e6f7ff;
            border-left: 4px solid #1890ff;
            padding: 15px;
            margin: 20px auto;
            max-width: 800px;
            border-radius: 4px;
            display: flex;
            align-items: flex-start;
        }
        .info-box i {
            color: #1890ff;
            font-size: 20px;
            margin-right: 10px;
            margin-top: 2px;
        }
        .info-box p {
            color: #333;
            font-size: 14px;
            margin: 0;
            line-height: 1.5;
        }
        .format-toggle {
            text-align: center;
            margin: 20px 0;
        }
        .format-btn {
            padding: 8px 16px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: white;
            margin: 0 5px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .format-btn.active {
            background-color: #ff7e00;
            color: white;
            border-color: #ff7e00;
        }
        .best-practices {
            background-color: #f8f8f8;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
        }
        .best-practices h3 {
            font-size: 16px;
            color: #333;
            margin-bottom: 10px;
        }
        .best-practices ul {
            list-style-type: disc;
            margin-left: 20px;
        }
        .best-practices li {
            font-size: 13px;
            margin-bottom: 5px;
            color: #666;
        }
        .toggle-practices {
            display: block;
            margin: 10px auto;
            background: none;
            border: 1px solid #ddd;
            padding: 5px 10px;
            font-size: 12px;
            color: #666;
            cursor: pointer;
            border-radius: 4px;
        }
        /* Nuevo estilo para el fondo del logo */
        .logo-container {
            position: absolute;
            top: 10px;
            left: 10px;
            padding: 5px 10px;
            border-radius: 4px;
            background-color: rgba(0, 0, 0, 0.3);
            z-index: 20;
        }
        #status {
            background-color: #d4edda;
            color: #155724;
            padding: 10px;
            margin: 10px auto;
            border-radius: 4px;
            max-width: 800px;
            text-align: center;
            display: none;
        }
        .svg-container {
            display: none;
            position: absolute;
            left: -9999px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 id="serviceTitle">Creativos para Optimización Express</h1>
            <p>Creativos para campañas de Orange Vapor</p>
        </div>
        
        <!-- Status para mensajes -->
        <div id="status"></div>
        
        <!-- Tabs de servicios -->
        <div class="tabs">
            <div class="tab-group">
                <button class="tab-button optimizacion active" data-service="optimizacion">Optimización Express</button>
                <button class="tab-button meta" data-service="meta">Meta Ads</button>
                <button class="tab-button google" data-service="google">Google Ads</button>
                <button class="tab-button email" data-service="email">Email Marketing</button>
                <button class="tab-button chatbot" data-service="chatbot">Chatbot</button>
                <button class="tab-button all" data-service="all">Paquete Completo</button>
            </div>
        </div>
        
        <!-- Selector de formato -->
        <div class="format-toggle">
            <button id="squareBtn" class="format-btn active">Cuadrado (1080x1080)</button>
            <button id="verticalBtn" class="format-btn">Vertical (1080x1920)</button>
        </div>
        
        <!-- Sección de descarga -->
        <div class="download-section">
            <button id="downloadBtn" class="download-btn">
                <i class="fas fa-download"></i>
                Descargar Creativos
            </button>
        </div>
        
        <!-- Mensaje informativo -->
        <div class="info-box">
            <i class="fas fa-info-circle"></i>
            <div>
                <p><strong>Instrucciones:</strong></p>
                <p>1. Selecciona el tipo de servicio que deseas generar.</p>
                <p>2. Elige el formato (cuadrado 1080x1080 o vertical 1080x1920).</p>
                <p>3. Haz clic en "Descargar Creativos" para obtener el conjunto completo en alta resolución.</p>
                <p>4. También puedes descargar creativos individuales pasando el mouse sobre cada uno y haciendo clic en el icono de descarga.</p>
            </div>
        </div>
        
        <!-- Mejores prácticas (colapsable) -->
        <div class="best-practices" style="display: none;">
            <h3>Mejores Prácticas Aplicadas:</h3>
            <ul>
                <li><strong>Menos del 20% de texto</strong> - Facebook penaliza anuncios con exceso de texto</li>
                <li><strong>Zonas seguras</strong> - 14% superior e inferior en formato vertical libres de elementos clave</li>
                <li><strong>Tipografía ampliada</strong> - Mayor legibilidad en dispositivos móviles</li>
                <li><strong>Colores contrastantes</strong> - Mejor visualización y reconocimiento de marca</li>
                <li><strong>Composición centrada</strong> - Elementos principales visibles a primera vista</li>
                <li><strong>Logo consistente</strong> - Siempre en esquina superior izquierda con fondo para mejor contraste</li>
                <li><strong>Elementos visuales</strong> - Iconos y patrones específicos por servicio</li>
            </ul>
        </div>
        <button class="toggle-practices" id="togglePractices">Ver mejores prácticas aplicadas</button>
        
        <!-- Contenedor de creativos -->
        <div id="creativesContainer" class="creatives-container">
            <!-- Los creativos se insertan dinámicamente aquí -->
        </div>
        
        <!-- Nota de especificaciones -->
        <div class="note">
            <p>Dimensiones: 1080x1080 píxeles y 1080x1920 píxeles (imágenes descargadas en alta resolución)</p>
        </div>

        <!-- Contenedor SVG para generación de imágenes -->
        <div id="svgContainer" class="svg-container"></div>
    </div>
    
    <script>
        // Esperar a que se carguen las fuentes
        document.fonts.ready.then(() => {
            console.log("Fuentes cargadas correctamente. Iniciando...");
            init();
        });
        
        function init() {
            // Colores actualizados para cada servicio
            const colors = {
                primary: '#ff7e00', // Naranja original
                dark: '#181818',
                light: '#ffffff',
                // Nuevos colores
                optimizacion: '#dc3545', // Rojo para Optimización Express
                meta: '#1877F2',      // Azul para Meta Ads
                google: '#4285F4',    // Azul de Google
                googleRed: '#DB4437', // Rojo de Google 
                googleYellow: '#F4B400', // Amarillo de Google
                googleGreen: '#0F9D58', // Verde de Google
                email: '#00829b',     // Verde azulado para Email Marketing
                chatbot: '#6f42c1'    // Lila para Chatbot
            };
            
            // Datos de creativos optimizados (textos acortados para formato vertical)
            const creativesData = {
                optimizacion: [
                    {
                        title: 'TRANSFORMÁ TUS CAMPAÑAS', // Acortado de "Transformamos"
                        subtitle: '+20% EN VENTAS',
                        description: 'Diagnóstico + Nueva estructura optimizada',
                        bgColor: colors.optimizacion,
                        icon: 'fa-solid fa-rocket' // Icono de cohete para optimización
                    },
                    {
                        title: 'EL PROBLEMA',
                        subtitle: 'SIN RESULTADOS',  // Acortado de "CAMPAÑAS SIN RESULTADOS"
                        description: 'Perdés ventas mientras la competencia avanza',
                        bgColor: colors.dark,
                        accentColor: colors.optimizacion,
                        icon: 'fa-solid fa-triangle-exclamation' // Icono de advertencia
                    },
                    {
                        title: 'LA SOLUCIÓN',
                        subtitle: 'OPTIMIZACIÓN',  // Acortado de "OPTIMIZACIÓN EXPRESS"
                        description: 'Estructura renovada que genera ventas reales',
                        bgColor: colors.dark,
                        accentColor: colors.optimizacion,
                        icon: 'fa-solid fa-lightbulb' // Icono de idea
                    },
                    {
                        title: 'INVERSIÓN ÚNICA',
                        subtitle: '$299 USD',
                        description: 'Pagá la mitad si no aumentamos tus ventas',
                        bgColor: colors.dark,
                        accentColor: colors.optimizacion,
                        icon: 'fa-solid fa-sack-dollar' // Icono de dinero
                    }
                ],
                meta: [
                    {
                        title: 'META ADS',
                        subtitle: 'CONVERSIONES',  // Acortado de "CONVERSIONES MAXIMIZADAS"
                        description: 'Estrategias personalizadas de alto retorno',
                        bgColor: colors.meta,
                        icon: 'fa-brands fa-facebook' // Icono de Facebook
                    },
                    {
                        title: 'TARGETING PRECISO',
                        subtitle: 'LLEGA A TU PÚBLICO',  // Cambiado de "AUDIENCIA" a "PÚBLICO"
                        description: 'Segmentación avanzada por intereses',
                        bgColor: colors.dark,
                        accentColor: colors.meta,
                        icon: 'fa-solid fa-bullseye' // Icono de diana
                    },
                    {
                        title: 'ANUNCIOS CREATIVOS',
                        subtitle: 'QUE CONVIERTEN',  // Acortado
                        description: 'Anuncios dinámicos para cada etapa',
                        bgColor: colors.dark,
                        accentColor: colors.meta,
                        icon: 'fa-solid fa-palette' // Icono de paleta
                    },
                    {
                        title: 'RESULTADOS MEDIBLES',
                        subtitle: 'DATA-DRIVEN',  // Acortado
                        description: 'Optimización constante de anuncios',
                        bgColor: colors.dark,
                        accentColor: colors.meta,
                        icon: 'fa-solid fa-chart-line' // Icono de gráfico
                    }
                ],
                google: [
                    {
                        title: 'GOOGLE ADS',
                        subtitle: 'CLIENTES ACTIVOS',  // Acortado de "CLIENTES QUE TE BUSCAN"
                        description: 'Campañas optimizadas para convertir',
                        bgColor: colors.google,
                        icon: 'fa-brands fa-google' // Icono de Google
                    },
                    {
                        title: 'BÚSQUEDA AVANZADA',
                        subtitle: 'TOP RESULTADOS',  // Acortado de "PRIMEROS RESULTADOS"
                        description: 'Palabras clave con intención de compra',
                        bgColor: colors.dark,
                        accentColor: colors.google,
                        icon: 'fa-solid fa-magnifying-glass' // Icono de búsqueda
                    },
                    {
                        title: 'DISPLAY & YOUTUBE',  // Acortado de "RED DISPLAY & YOUTUBE"
                        subtitle: 'PRESENCIA',  // Acortado de "PRESENCIA IMPACTANTE"
                        description: 'Anuncios gráficos y videos efectivos',
                        bgColor: colors.dark,
                        accentColor: colors.googleRed,
                        icon: 'fa-brands fa-youtube' // Icono de YouTube
                    },
                    {
                        title: 'ANÁLISIS',  // Acortado de "ANÁLISIS Y OPTIMIZACIÓN"
                        subtitle: 'MEJORA CONSTANTE',
                        description: 'Machine learning para maximizar conversiones',
                        bgColor: colors.dark,
                        accentColor: colors.googleYellow,
                        icon: 'fa-solid fa-chart-pie' // Icono de gráfico circular
                    }
                ],
                email: [
                    {
                        title: 'EMAIL MARKETING',
                        subtitle: 'CONEXIÓN DIRECTA',
                        description: 'Campañas que generan ventas',
                        bgColor: colors.email,
                        icon: 'fa-solid fa-envelope' // Icono de sobre
                    },
                    {
                        title: 'AUTOMATIZACIÓN',
                        subtitle: 'FLUJOS EFECTIVOS',  // Cambiado de "SECUENCIAS" a "FLUJOS"
                        description: 'Flujos para cada etapa del embudo',
                        bgColor: colors.dark,
                        accentColor: colors.email,
                        icon: 'fa-solid fa-robot' // Icono de robot
                    },
                    {
                        title: 'SEGMENTACIÓN',
                        subtitle: 'MENSAJES CLAVE',  // Acortado de "MENSAJES RELEVANTES"
                        description: 'Emails personalizados por comportamiento',
                        bgColor: colors.dark,
                        accentColor: colors.email,
                        icon: 'fa-solid fa-users-viewfinder' // Icono de segmentación
                    },
                    {
                        title: 'ANÁLISIS COMPLETO',
                        subtitle: 'MÉTRICAS CLAVE',  // Acortado de "MÉTRICAS QUE IMPULSAN"
                        description: 'Reportes detallados de resultados',
                        bgColor: colors.dark,
                        accentColor: colors.email,
                        icon: 'fa-solid fa-chart-column' // Icono de gráfico de columnas
                    }
                ],
                chatbot: [
                    {
                        title: 'CHATBOT IA',  // Acortado de "CHATBOT INTELIGENTE"
                        subtitle: 'SERVICIO 24/7',
                        description: 'Atención automatizada que convierte',
                        bgColor: colors.chatbot,
                        icon: 'fa-solid fa-message' // Icono de mensaje
                    },
                    {
                        title: 'DIÁLOGOS FLUIDOS',  // Cambiado de "CONVERSACIONES FLUIDAS"
                        subtitle: 'IA AVANZADA',  // Acortado de "RESPUESTAS INTELIGENTES"
                        description: 'IA que entiende preguntas complejas',
                        bgColor: colors.dark,
                        accentColor: colors.chatbot,
                        icon: 'fa-solid fa-comments' // Icono de conversación
                    },
                    {
                        title: 'INTEGRACIÓN TOTAL',  // Cambiado de "COMPLETA" a "TOTAL"
                        subtitle: 'MULTICANAL',  // Acortado de "ADAPTADO A TU NEGOCIO"
                        description: 'Conectado con todos tus canales',
                        bgColor: colors.dark,
                        accentColor: colors.chatbot,
                        icon: 'fa-solid fa-code-branch' // Icono de integración
                    },
                    {
                        title: 'RESULTADOS REALES',  // Cambiado de "CONCRETOS" a "REALES"
                        subtitle: 'MÁS CONVERSIÓN',  // Acortado de "AUMENTO DE CONVERSIÓN"
                        description: 'Captura leads cuando más interesa',
                        bgColor: colors.dark,
                        accentColor: colors.chatbot,
                        icon: 'fa-solid fa-check-double' // Icono de doble check
                    }
                ],
                all: [
                    {
                        title: 'PAQUETE COMPLETO',
                        subtitle: '4 SERVICIOS',  // Acortado de "4 SERVICIOS INTEGRADOS"
                        description: 'Solución integral por US$1000/mes',
                        bgColor: '#333333',
                        icon: 'fa-solid fa-crown' // Icono de corona
                    },
                    {
                        title: 'ESTRATEGIA 360°',
                        subtitle: 'DIGITAL TOTAL',  // Acortado de "PRESENCIA DIGITAL TOTAL"
                        description: 'Tráfico, conversión y fidelización',
                        bgColor: colors.dark,
                        accentColor: colors.primary,
                        icon: 'fa-solid fa-compass' // Icono de brújula
                    },
                    {
                        title: 'AHORRO SUPERIOR',  // Cambiado de "SIGNIFICATIVO" a "SUPERIOR"
                        subtitle: 'DESCUENTO',  // Acortado de "DESCUENTO ESPECIAL"
                        description: 'Ahorrás US$200 mensuales',
                        bgColor: colors.dark,
                        accentColor: colors.primary,
                        icon: 'fa-solid fa-piggy-bank' // Icono de ahorro
                    },
                    {
                        title: 'SINERGIA',  // Acortado de "RESULTADOS AMPLIFICADOS"
                        subtitle: 'MAYOR IMPACTO',  // Cambiado de "EL PODER DE LA SINERGIA"
                        description: 'Cada canal potencia a los demás',
                        bgColor: colors.dark,
                        accentColor: colors.primary,
                        icon: 'fa-solid fa-handshake' // Icono de sinergia
                    }
                ]
            };

            let activeService = 'optimizacion';
            let activeFormat = 'square';
            
            // Elementos DOM
            const serviceTitle = document.getElementById('serviceTitle');
            const creativesContainer = document.getElementById('creativesContainer');
            const tabButtons = document.querySelectorAll('.tab-button');
            const formatButtons = document.querySelectorAll('.format-btn');
            const squareBtn = document.getElementById('squareBtn');
            const verticalBtn = document.getElementById('verticalBtn');
            const downloadBtn = document.getElementById('downloadBtn');
            const togglePracticesBtn = document.getElementById('togglePractices');
            const bestPracticesBox = document.querySelector('.best-practices');
            const svgContainer = document.getElementById('svgContainer');
            const statusDiv = document.getElementById('status');

            // Mostrar mensajes de estado
            function showStatus(message, isError = false) {
                statusDiv.textContent = message;
                statusDiv.style.display = 'block';
                
                if (isError) {
                    statusDiv.style.backgroundColor = '#f8d7da';
                    statusDiv.style.color = '#721c24';
                } else {
                    statusDiv.style.backgroundColor = '#d4edda';
                    statusDiv.style.color = '#155724';
                }
                
                setTimeout(() => {
                    statusDiv.style.display = 'none';
                }, 3000);
            }
            
            // Toggle para mejores prácticas
            togglePracticesBtn.addEventListener('click', () => {
                if (bestPracticesBox.style.display === 'none') {
                    bestPracticesBox.style.display = 'block';
                    togglePracticesBtn.textContent = 'Ocultar mejores prácticas';
                } else {
                    bestPracticesBox.style.display = 'none';
                    togglePracticesBtn.textContent = 'Ver mejores prácticas aplicadas';
                }
            });
            
            // Función para obtener título según el servicio
            function getServiceTitle(service) {
                switch (service) {
                    case 'optimizacion': return 'Creativos para Optimización Express';
                    case 'meta': return 'Creativos para Meta Ads';
                    case 'google': return 'Creativos para Google Ads';
                    case 'email': return 'Creativos para Email Marketing';
                    case 'chatbot': return 'Creativos para Chatbot';
                    case 'all': return 'Creativos para Paquete Completo';
                    default: return 'Creativos para Optimización Express';
                }
            }
            
            // Función para obtener el color de contraste para el logo según el fondo
            function getLogoBackgroundColor(bgColor) {
                // Si el fondo es oscuro, usar un fondo claro y viceversa
                if (bgColor === colors.dark || bgColor === '#333333') {
                    return 'rgba(255, 255, 255, 0.2)'; // Fondo claro semi-transparente
                } else {
                    return 'rgba(0, 0, 0, 0.2)'; // Fondo oscuro semi-transparente
                }
            }
            
            // Función para renderizar creativos
            function renderCreatives() {
                creativesContainer.innerHTML = '';
                const creatives = creativesData[activeService];
                
                creatives.forEach((creative, index) => {
                    const isFirst = index === 0;
                    
                    // Crear elemento creativo
                    const creativeEl = document.createElement('div');
                    creativeEl.className = `creative ${activeFormat === 'vertical' ? 'creative-vertical' : ''}`;
                    creativeEl.dataset.index = index;
                    creativeEl.style.backgroundColor = creative.bgColor;
                    
                    // Barra lateral (acento)
                    const accentEl = document.createElement('div');
                    accentEl.className = 'creative-accent';
                    accentEl.style.background = isFirst ? colors.light : (creative.accentColor || colors.primary);
                    creativeEl.appendChild(accentEl);
                    
                    // Contenido
                    const contentEl = document.createElement('div');
                    contentEl.className = 'creative-content';
                    
                    // Contenedor del logo con fondo para mejor contraste
                    const logoContainerEl = document.createElement('div');
                    logoContainerEl.className = 'logo-container';
                    logoContainerEl.style.backgroundColor = getLogoBackgroundColor(creative.bgColor);
                    
                    // Logo
                    const logoEl = document.createElement('div');
                    logoEl.style.fontWeight = 'bold';
                    logoEl.style.fontSize = '14px';
                    
                    if (isFirst) {
                        logoEl.innerHTML = 'Orange <span style="color: #FF7E00;">Vapor</span>';
                    } else {
                        // OV con O en blanco y V en naranja
                        logoEl.innerHTML = '<span style="color: white;">O</span><span style="color: #FF7E00;">V</span>';
                    }
                    logoContainerEl.appendChild(logoEl);
                    contentEl.appendChild(logoContainerEl);
                    
                    // Título
                    const titleEl = document.createElement('div');
                    titleEl.className = 'creative-title';
                    titleEl.textContent = creative.title;
                    if (!isFirst && creative.accentColor) {
                        titleEl.style.color = creative.accentColor;
                    }
                    contentEl.appendChild(titleEl);
                    
                    // Subtítulo
                    const subtitleEl = document.createElement('div');
                    subtitleEl.className = 'creative-subtitle';
                    subtitleEl.textContent = creative.subtitle;
                    contentEl.appendChild(subtitleEl);
                    
                    // Descripción
                    const descEl = document.createElement('div');
                    descEl.className = 'creative-description';
                    descEl.textContent = creative.description;
                    contentEl.appendChild(descEl);
                    
                    // Icono específico del servicio (nuevo)
                    if (creative.icon) {
                        const iconEl = document.createElement('div');
                        iconEl.style.position = 'absolute';
                        iconEl.style.bottom = '15px';
                        iconEl.style.left = '15px';
                        iconEl.style.fontSize = '18px';
                        iconEl.style.opacity = '0.7';
                        iconEl.innerHTML = `<i class="${creative.icon}"></i>`;
                        contentEl.appendChild(iconEl);
                    }
                    
                    creativeEl.appendChild(contentEl);
                    
                    // Número
                    const numberEl = document.createElement('div');
                    numberEl.className = 'creative-number';
                    numberEl.textContent = `${index + 1}/4`;
                    creativeEl.appendChild(numberEl);
                    
                    // Botón de descarga
                    const downloadEl = document.createElement('div');
                    downloadEl.className = 'creative-download';
                    downloadEl.innerHTML = '<i class="fas fa-download"></i>';
                    downloadEl.addEventListener('click', (e) => {
                        e.stopPropagation(); // Evitar que se propague el evento
                        downloadSVG(index);
                    });
                    creativeEl.appendChild(downloadEl);
                    
                    // Mostrar previsualización del creativo con los mismos bordes redondeados
                    creativeEl.addEventListener('click', () => {
                        downloadSVG(index);
                    });
                    
                    creativesContainer.appendChild(creativeEl);
                });
            }

            // Función para crear un SVG del creativo
            function createSVG(index) {
                const creative = creativesData[activeService][index];
                const isFirst = index === 0;
                const isVertical = activeFormat === 'vertical';
                
                // Configurar dimensiones
                const width = isVertical ? 1080 : 1080;
                const height = isVertical ? 1920 : 1080;
                
                // Crear SVG
                const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                svg.setAttribute("width", width);
                svg.setAttribute("height", height);
                svg.setAttribute("xmlns", "http://www.w3.org/2000/svg");
                
                // Añadir fondo
                const background = document.createElementNS("http://www.w3.org/2000/svg", "rect");
                background.setAttribute("width", width);
                background.setAttribute("height", height);
                background.setAttribute("fill", creative.bgColor);
                background.setAttribute("rx", "8");
                background.setAttribute("ry", "8");
                svg.appendChild(background);
                
                // Añadir patrón de fondo según el servicio
                addBackgroundPattern(svg, activeService, width, height);
                
                // Añadir barra lateral (acento)
                let accentPath;
                if (isVertical) {
                    // Para formato vertical
                    const safeZoneTop = Math.round(height * 0.14);
                    const accentY = safeZoneTop + 100;
                    const accentHeight = height - accentY - safeZoneTop - 100;
                    
                    accentPath = document.createElementNS("http://www.w3.org/2000/svg", "path");
                    accentPath.setAttribute("d", `M0,${accentY} L0,${accentY + accentHeight} L16,${accentY + accentHeight} Q20,${accentY + accentHeight} 20,${accentY + accentHeight - 5} L20,${accentY + 5} Q20,${accentY} 16,${accentY} L0,${accentY}`);
                    accentPath.setAttribute("fill", isFirst ? colors.light : (creative.accentColor || colors.primary));
                } else {
                    // Para formato cuadrado
                    accentPath = document.createElementNS("http://www.w3.org/2000/svg", "path");
                    accentPath.setAttribute("d", `M0,${height * 0.3} L0,${height * 0.6} L12,${height * 0.6} Q15,${height * 0.6} 15,${height * 0.6 - 3} L15,${height * 0.3 + 3} Q15,${height * 0.3} 12,${height * 0.3} L0,${height * 0.3}`);
                    accentPath.setAttribute("fill", isFirst ? colors.light : (creative.accentColor || colors.primary));
                }
                svg.appendChild(accentPath);
                
                // Añadir contenedor del logo
                const logoContainer = document.createElementNS("http://www.w3.org/2000/svg", "rect");
                const logoBackgroundColor = getLogoBackgroundColor(creative.bgColor);
                
                if (isVertical) {
                    const safeZoneTop = Math.round(height * 0.14);
                    logoContainer.setAttribute("x", "30");
                    logoContainer.setAttribute("y", `${safeZoneTop + 10}`);
                    logoContainer.setAttribute("width", "200");
                    logoContainer.setAttribute("height", "50");
                } else {
                    logoContainer.setAttribute("x", "30");
                    logoContainer.setAttribute("y", "20");
                    logoContainer.setAttribute("width", "200");
                    logoContainer.setAttribute("height", "50");
                }
                
                logoContainer.setAttribute("rx", "4");
                logoContainer.setAttribute("ry", "4");
                logoContainer.setAttribute("fill", logoBackgroundColor);
                svg.appendChild(logoContainer);
                
                // Añadir logo
                const logoText = document.createElementNS("http://www.w3.org/2000/svg", "text");
                logoText.setAttribute("font-family", "Montserrat, sans-serif");
                logoText.setAttribute("font-weight", "bold");
                
                if (isVertical) {
                    const safeZoneTop = Math.round(height * 0.14);
                    logoText.setAttribute("x", "40");
                    logoText.setAttribute("y", `${safeZoneTop + 45}`);
                    logoText.setAttribute("font-size", "36");
                } else {
                    logoText.setAttribute("x", "40");
                    logoText.setAttribute("y", "55");
                    logoText.setAttribute("font-size", "30");
                }
                
                if (isFirst) {
                    // Logo Orange Vapor
                    const orangeText = document.createElementNS("http://www.w3.org/2000/svg", "tspan");
                    orangeText.setAttribute("fill", colors.light);
                    orangeText.textContent = "Orange ";
                    
                    const vaporText = document.createElementNS("http://www.w3.org/2000/svg", "tspan");
                    vaporText.setAttribute("fill", "#FF7E00");
                    vaporText.textContent = "Vapor";
                    
                    logoText.appendChild(orangeText);
                    logoText.appendChild(vaporText);
                } else {
                    // Logo OV
                    const oText = document.createElementNS("http://www.w3.org/2000/svg", "tspan");
                    oText.setAttribute("fill", colors.light);
                    oText.textContent = "O";
                    
                    const vText = document.createElementNS("http://www.w3.org/2000/svg", "tspan");
                    vText.setAttribute("fill", "#FF7E00");
                    vText.textContent = "V";
                    
                    logoText.appendChild(oText);
                    logoText.appendChild(vText);
                }
                
                svg.appendChild(logoText);
                
                // Añadir título
                const titleText = document.createElementNS("http://www.w3.org/2000/svg", "text");
                titleText.setAttribute("font-family", "Montserrat, sans-serif");
                titleText.setAttribute("font-weight", "bold");
                titleText.setAttribute("text-anchor", "middle");
                
                if (isVertical) {
                    titleText.setAttribute("x", `${width / 2}`);
                    titleText.setAttribute("y", `${height / 2 - 200}`);
                    titleText.setAttribute("font-size", "80");
                } else {
                    titleText.setAttribute("x", `${width / 2}`);
                    titleText.setAttribute("y", `${height / 2 - 80}`);
                    titleText.setAttribute("font-size", "70");
                }
                
                titleText.setAttribute("fill", !isFirst && creative.accentColor ? creative.accentColor : colors.light);
                titleText.textContent = creative.title;
                svg.appendChild(titleText);
                
                // Añadir fondo del subtítulo
                const subtitleBg = document.createElementNS("http://www.w3.org/2000/svg", "rect");
                
                if (isVertical) {
                    subtitleBg.setAttribute("x", `${width / 2 - 250}`);
                    subtitleBg.setAttribute("y", `${height / 2 - 50}`);
                    subtitleBg.setAttribute("width", "500");
                    subtitleBg.setAttribute("height", "100");
                } else {
                    subtitleBg.setAttribute("x", `${width / 2 - 200}`);
                    subtitleBg.setAttribute("y", `${height / 2 - 10}`);
                    subtitleBg.setAttribute("width", "400");
                    subtitleBg.setAttribute("height", "80");
                }
                
                subtitleBg.setAttribute("rx", "4");
                subtitleBg.setAttribute("ry", "4");
                subtitleBg.setAttribute("fill", "rgba(0,0,0,0.25)");
                svg.appendChild(subtitleBg);
                
                // Añadir subtítulo
                const subtitleText = document.createElementNS("http://www.w3.org/2000/svg", "text");
                subtitleText.setAttribute("font-family", "Montserrat, sans-serif");
                subtitleText.setAttribute("font-weight", "bold");
                subtitleText.setAttribute("text-anchor", "middle");
                
                if (isVertical) {
                    subtitleText.setAttribute("x", `${width / 2}`);
                    subtitleText.setAttribute("y", `${height / 2 + 20}`);
                    subtitleText.setAttribute("font-size", "56");
                } else {
                    subtitleText.setAttribute("x", `${width / 2}`);
                    subtitleText.setAttribute("y", `${height / 2 + 40}`);
                    subtitleText.setAttribute("font-size", "46");
                }
                
                subtitleText.setAttribute("fill", colors.light);
                subtitleText.textContent = creative.subtitle;
                svg.appendChild(subtitleText);
                
                // Añadir descripción
                const descText = document.createElementNS("http://www.w3.org/2000/svg", "text");
                descText.setAttribute("font-family", "Montserrat, sans-serif");
                descText.setAttribute("text-anchor", "middle");
                
                if (isVertical) {
                    descText.setAttribute("x", `${width / 2}`);
                    descText.setAttribute("y", `${height / 2 + 150}`);
                    descText.setAttribute("font-size", "42");
                } else {
                    descText.setAttribute("x", `${width / 2}`);
                    descText.setAttribute("y", `${height / 2 + 150}`);
                    descText.setAttribute("font-size", "36");
                }
                
                descText.setAttribute("fill", "rgba(255,255,255,0.95)");
                descText.textContent = creative.description;
                svg.appendChild(descText);
                
                // Añadir icono
                if (creative.icon) {
                    // Usar un texto o círculo como placeholder para el icono
                    const iconCircle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
                    
                    if (isVertical) {
                        const safeZoneBottom = height - Math.round(height * 0.14);
                        iconCircle.setAttribute("cx", "100");
                        iconCircle.setAttribute("cy", `${safeZoneBottom - 100}`);
                        iconCircle.setAttribute("r", "50");
                    } else {
                        iconCircle.setAttribute("cx", "80");
                        iconCircle.setAttribute("cy", `${height - 80}`);
                        iconCircle.setAttribute("r", "40");
                    }
                    
                    iconCircle.setAttribute("fill", "rgba(255,255,255,0.1)");
                    svg.appendChild(iconCircle);
                    
                    // Añadir un símbolo genérico para el icono
                    const iconStar = document.createElementNS("http://www.w3.org/2000/svg", "text");
                    
                    if (isVertical) {
                        iconStar.setAttribute("x", "85");
                        iconStar.setAttribute("y", `${height - Math.round(height * 0.14) - 85}`);
                        iconStar.setAttribute("font-size", "36");
                    } else {
                        iconStar.setAttribute("x", "70");
                        iconStar.setAttribute("y", `${height - 70}`);
                        iconStar.setAttribute("font-size", "30");
                    }
                    
                    iconStar.setAttribute("fill", "#FFFFFF");
                    iconStar.setAttribute("font-family", "Arial");
                    iconStar.textContent = "★";
                    svg.appendChild(iconStar);
                }
                
                // Añadir círculo para el número
                const numberCircle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
                
                if (isVertical) {
                    const safeZoneBottom = height - Math.round(height * 0.14);
                    numberCircle.setAttribute("cx", `${width - 80}`);
                    numberCircle.setAttribute("cy", `${safeZoneBottom - 80}`);
                    numberCircle.setAttribute("r", "40");
                } else {
                    numberCircle.setAttribute("cx", `${width - 70}`);
                    numberCircle.setAttribute("cy", `${height - 70}`);
                    numberCircle.setAttribute("r", "30");
                }
                
                numberCircle.setAttribute("fill", "rgba(255,255,255,0.2)");
                svg.appendChild(numberCircle);
                
                // Añadir número
                const numberText = document.createElementNS("http://www.w3.org/2000/svg", "text");
                numberText.setAttribute("font-family", "Montserrat, sans-serif");
                numberText.setAttribute("font-weight", "bold");
                numberText.setAttribute("text-anchor", "middle");
                
                if (isVertical) {
                    numberText.setAttribute("x", `${width - 80}`);
                    numberText.setAttribute("y", `${height - Math.round(height * 0.14) - 70}`);
                    numberText.setAttribute("font-size", "30");
                } else {
                    numberText.setAttribute("x", `${width - 70}`);
                    numberText.setAttribute("y", `${height - 62}`);
                    numberText.setAttribute("font-size", "24");
                }
                
                numberText.setAttribute("fill", colors.light);
                numberText.textContent = `${index + 1}/4`;
                svg.appendChild(numberText);
                
                return svg;
            }

            // Función para añadir patrón de fondo
            function addBackgroundPattern(svg, service, width, height) {
                const pattern = document.createElementNS("http://www.w3.org/2000/svg", "g");
                pattern.setAttribute("opacity", "0.05");
                
                switch (service) {
                    case 'optimizacion':
                        // Líneas diagonales
                        for (let i = -height; i < width + height; i += 40) {
                            const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
                            line.setAttribute("x1", `${i}`);
                            line.setAttribute("y1", "0");
                            line.setAttribute("x2", `${i + height}`);
                            line.setAttribute("y2", `${height}`);
                            line.setAttribute("stroke", "#FFFFFF");
                            line.setAttribute("stroke-width", "2");
                            pattern.appendChild(line);
                        }
                        break;
                        
                    case 'meta':
                        // Patrón de círculos
                        for (let i = 0; i < width; i += 80) {
                            for (let j = 0; j < height; j += 80) {
                                const circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
                                circle.setAttribute("cx", `${i}`);
                                circle.setAttribute("cy", `${j}`);
                                circle.setAttribute("r", "15");
                                circle.setAttribute("stroke", "#FFFFFF");
                                circle.setAttribute("fill", "none");
                                pattern.appendChild(circle);
                            }
                        }
                        break;
                        
                    case 'google':
                        // Patrón de cuadrados
                        for (let i = 0; i < width; i += 70) {
                            for (let j = 0; j < height; j += 70) {
                                const rect = document.createElementNS("http://www.w3.org/2000/svg", "rect");
                                rect.setAttribute("x", `${i}`);
                                rect.setAttribute("y", `${j}`);
                                rect.setAttribute("width", "10");
                                rect.setAttribute("height", "10");
                                rect.setAttribute("fill", "#FFFFFF");
                                pattern.appendChild(rect);
                            }
                        }
                        break;
                        
                    case 'email':
                        // Patrón de ondas
                        for (let j = 0; j < height; j += 60) {
                            const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
                            let d = `M0,${j}`;
                            
                            for (let i = 0; i < width; i += 5) {
                                d += ` L${i},${j + Math.sin(i * 0.05) * 10}`;
                            }
                            
                            path.setAttribute("d", d);
                            path.setAttribute("stroke", "#FFFFFF");
                            path.setAttribute("fill", "none");
                            pattern.appendChild(path);
                        }
                        break;
                        
                    case 'chatbot':
                        // Patrón de puntos
                        for (let i = 0; i < width; i += 20) {
                            for (let j = 0; j < height; j += 20) {
                                if (Math.random() > 0.7) {
                                    const rect = document.createElementNS("http://www.w3.org/2000/svg", "rect");
                                    rect.setAttribute("x", `${i}`);
                                    rect.setAttribute("y", `${j}`);
                                    rect.setAttribute("width", "3");
                                    rect.setAttribute("height", "3");
                                    rect.setAttribute("fill", "#FFFFFF");
                                    pattern.appendChild(rect);
                                }
                            }
                        }
                        break;
                        
                    case 'all':
                        // Patrón de cuadrícula
                        for (let i = 0; i < width; i += 100) {
                            const vLine = document.createElementNS("http://www.w3.org/2000/svg", "line");
                            vLine.setAttribute("x1", `${i}`);
                            vLine.setAttribute("y1", "0");
                            vLine.setAttribute("x2", `${i}`);
                            vLine.setAttribute("y2", `${height}`);
                            vLine.setAttribute("stroke", "#FFFFFF");
                            vLine.setAttribute("stroke-width", "1");
                            pattern.appendChild(vLine);
                        }
                        
                        for (let j = 0; j < height; j += 100) {
                            const hLine = document.createElementNS("http://www.w3.org/2000/svg", "line");
                            hLine.setAttribute("x1", "0");
                            hLine.setAttribute("y1", `${j}`);
                            hLine.setAttribute("x2", `${width}`);
                            hLine.setAttribute("y2", `${j}`);
                            hLine.setAttribute("stroke", "#FFFFFF");
                            hLine.setAttribute("stroke-width", "1");
                            pattern.appendChild(hLine);
                        }
                        break;
                }
                
                svg.appendChild(pattern);
            }

            // Función para descargar SVG como imagen PNG
            function downloadSVG(index) {
                showStatus("Generando imagen...");
                
                try {
                    // Crear SVG
                    const svg = createSVG(index);
                    
                    // Convertir SVG a cadena
                    const serializer = new XMLSerializer();
                    const svgStr = serializer.serializeToString(svg);
                    
                    // Codificar SVG para URL
                    const svgBlob = new Blob([svgStr], {type: "image/svg+xml;charset=utf-8"});
                    const url = URL.createObjectURL(svgBlob);
                    
                    // Crear imagen para convertir SVG a PNG
                    const img = new Image();
                    img.onload = function() {
                        try {
                            // Crear canvas para dibujar la imagen
                            const canvas = document.createElement("canvas");
                            canvas.width = activeFormat === 'vertical' ? 1080 : 1080;
                            canvas.height = activeFormat === 'vertical' ? 1920 : 1080;
                            
                            const ctx = canvas.getContext("2d");
                            ctx.drawImage(img, 0, 0);
                            
                            // Convertir a PNG y descargar
                            const imgURL = canvas.toDataURL("image/png");
                            
                            const downloadLink = document.createElement("a");
                            downloadLink.download = `${activeService}-${activeFormat === 'vertical' ? 'vertical' : 'cuadrado'}-${index + 1}.png`;
                            downloadLink.href = imgURL;
                            downloadLink.click();
                            
                            // Liberar URL
                            URL.revokeObjectURL(url);
                            
                            showStatus("¡Imagen descargada con éxito!");
                        } catch (error) {
                            console.error("Error al convertir SVG a PNG:", error);
                            showStatus("Error al generar la imagen. Intentando método alternativo...", true);
                            
                            // Método alternativo: descargar directamente el SVG
                            try {
                                const downloadLink = document.createElement("a");
                                downloadLink.download = `${activeService}-${activeFormat === 'vertical' ? 'vertical' : 'cuadrado'}-${index + 1}.svg`;
                                downloadLink.href = url;
                                downloadLink.click();
                                
                                showStatus("Se descargó como SVG. Puedes convertirlo a PNG con una herramienta externa.");
                            } catch (fallbackError) {
                                console.error("Error en método alternativo:", fallbackError);
                                showStatus("No se pudo descargar la imagen. Por favor intenta de nuevo.", true);
                            }
                        }
                    };
                    
                    img.onerror = function() {
                        console.error("Error al cargar SVG como imagen");
                        showStatus("Error al cargar la imagen. Intentando método alternativo...", true);
                        
                        // Método alternativo directo
                        const downloadLink = document.createElement("a");
                        downloadLink.download = `${activeService}-${activeFormat === 'vertical' ? 'vertical' : 'cuadrado'}-${index + 1}.svg`;
                        downloadLink.href = url;
                        downloadLink.click();
                        
                        showStatus("Se descargó como SVG. Puedes convertirlo a PNG con una herramienta externa.");
                    };
                    
                    img.src = url;
                } catch (error) {
                    console.error("Error al generar SVG:", error);
                    showStatus("Error al generar la imagen: " + error.message, true);
                }
            }

            // Función para descargar todos los creativos
            function downloadAllCreatives() {
                showStatus("Preparando descarga de todos los creativos...");
                
                // Descargar creativos secuencialmente
                for (let i = 0; i < 4; i++) {
                    setTimeout(() => {
                        downloadSVG(i);
                    }, i * 1500); // 1.5 segundos entre descargas
                }
            }
            
            // Función para actualizar UI
            function updateUI() {
                serviceTitle.textContent = getServiceTitle(activeService);
                
                tabButtons.forEach(btn => {
                    btn.classList.remove('active');
                    if (btn.dataset.service === activeService) {
                        btn.classList.add('active');
                    }
                });
                
                formatButtons.forEach(btn => {
                    btn.classList.remove('active');
                });
                
                if (activeFormat === 'square') {
                    squareBtn.classList.add('active');
                } else {
                    verticalBtn.classList.add('active');
                }
                
                renderCreatives();
            }
            
            // Eventos
            tabButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    activeService = btn.dataset.service;
                    updateUI();
                });
            });
            
            squareBtn.addEventListener('click', () => {
                activeFormat = 'square';
                updateUI();
            });
            
            verticalBtn.addEventListener('click', () => {
                activeFormat = 'vertical';
                updateUI();
            });
            
            downloadBtn.addEventListener('click', downloadAllCreatives);
            
            // Toggle para mejores prácticas
            togglePracticesBtn.addEventListener('click', () => {
                if (bestPracticesBox.style.display === 'none') {
                    bestPracticesBox.style.display = 'block';
                    togglePracticesBtn.textContent = 'Ocultar mejores prácticas';
                } else {
                    bestPracticesBox.style.display = 'none';
                    togglePracticesBtn.textContent = 'Ver mejores prácticas aplicadas';
                }
            });
            
            // Inicializar
            updateUI();
            
            // Mostrar mensaje inicial
            setTimeout(() => {
                showStatus("Sistema de exportación SVG listo. Haz clic en cualquier creativo para descargarlo.");
            }, 1000);
        }
    </script>
</body>
</html>
